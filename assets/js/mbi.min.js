function CalcIt(a){var v=Number(a.Years.value);var l=Number(a.wt.value);if(!checkWeight(l)){return false}if(a.wu.selectedIndex==0){kg=l*0.45359237}else{kg=l}if(kg<10){alert("يجب أن يكون الوزن أثقل من 10 كغ (22 رطلاً)");return false}if(kg>200){alert("يجب أن يكون الوزن أخف من 200 كغ (441 رطلاً)");return false}var o=Number(a.ht.value);if((isNaN(o))||(o==null)||(o=="")||(o<0)){feetAndInches(a);o=Number(a.ht.value)}if(a.hu.selectedIndex==0){heightInches=o;heightMeters=o*2.54/100}else{heightInches=o/2.54;heightMeters=o/100}if(heightMeters<0.33){alert("يجب أن يكون الطول أكثر من 33 سم (31.5 بوصة)");return false}if(heightMeters>2.41){alert("الطول يجب أن يكون أقل من 241 سم (7 أقدام و 11 بوصة)");return false}setFeetAndInches(a,heightInches);var h=heightMeters*100;if((isNaN(v))||(v==null)||(v=="")){v=GetAge(a,h)}if(v<1){alert("الأعمار الأصغر من 1 سنة هي صغيرة جداً بحيث لا نستطيع حسابها. نعتذر عن ذلك");return false}else{if(v>120){alert("يتم التعامل مع جميع الأعمار من 70 إلى 120 وكأنها 75 ");v=75;a.Years.value=75}}SetAgeCat(a,v);if(a.Gender.selectedIndex==0){if(v<12&&h>170){alert("الطول يبدو أكثر من العمر, لذلك تم تغيير العمر");v=25;a.Years.value=v}if(h<155&&v>17){alert("الطول يبدو قليل جداً بالنسبة للعمر, لذلك تم تغيير العمر");v=rounding((0.0003*h*h)+(0.0847*h)-7.5544,1);a.Years.value=v}}else{if(v<12&&h>170){alert("الطول يبدو أقصر بالنسبة للعمر, لذلك تم تغيير العمر");v=25;a.Years.value=v}if(h<145&&v>17){alert("الطول يبدو أقل بكثير بالنسبة للعمر لذا تم تغيير العمر");v=rounding((0.0007*h*h)-(0.0136*h)-1.6819,0);a.Years.value=v}}bmi=kg/Math.pow(heightMeters,2);a.bmi.value=rounding(bmi,1);var c=25;var i=17;var k=30;var t=25;var A=v*v;var z=A*v;var x=A*A;var y=0;if(a.Gender.selectedIndex==1){if(v<14){c=0.000283*x-0.01751*z+0.3673*A-2.3464*v+21.352;i=-0.00016*x+0.00429*z+0.0043*A-0.4246*v+15.107;k=0.000485*x-0.0268*z+0.5096*A-2.926*v+23.164}else{i=20*(1-Math.exp(-1*(0.11*v)));k=(31.1*v)/(2+v);if(v<25){if(a.cdc.selectedIndex==0){c=0.000283*x-0.01751*z+0.3673*A-2.3464*v+21.352}else{c=0.002855*z-0.1909*A+4.2262*v-6.1898}}else{c=(28.5*(v+8))/(5+(v+8))}}if(v<12){t=c}else{t=24.5*(1-Math.exp(-0.1*(v+10)))}if(v>22){y=-1.6+(3.2/(1+Math.pow(1.18,h-163.5)));y=y*(0.125*Math.min(v,30)-2.75);c=c+y;k=k+y;i=i+y;t=t+y}}else{if(v<17){c=0.000223*x-0.0139*z+0.3082*A-2.105*v+21.254;i=-0.000143*x+0.0037*z+0.015*A-0.5188*v+15.677;k=0.000536*x-0.0288*z+0.5394*A-3.2219*v+23.811}else{i=20.7*(1-Math.exp(-1*(0.115*(v-0.9))));c=(29.1*(v-8))/(1.5+(v-8));k=(33.3*v)/(2.9+v)}if(v<15){t=c}else{t=25.5*(1-Math.exp(-0.1*(v+10)))}}if(a.cdc.selectedIndex==0){k=Math.min(k,30);c=Math.min(c,25);t=c}if(v<15){t=c}var f="بدين";if(bmi<k){f="وزن زائد"}if(bmi<c){f="زيادة خفيفة في الوزن"}if(bmi<t){f="ضمن الحدود الطبيعية"}if(bmi<i){f="نقص في الوزن"}if(bmi<13||bmi>50){f="تحقق من الأرقام المدخلة"}a.interp.value=f;var d=0;var p=0;var u=0;var B=0;var n=0;var g=0;var e=0;var s=0;var w=0;var j=0;var r=0;var q=0;A=h*h;z=A*h;if(a.Gender.selectedIndex==0){if(h<125){d=0.0021*A-0.155*h+8.2203;p=0.0023*A-0.1823*h+9.618;u=0.0028*A-0.2744*h+14.483;B=0.0026*A-0.21*h+10.8;n=0.0037*A-0.3934*h+19;g=0.0058*A-0.7611*h+35.6;e=0.0082*A-1.2204*h+58.051}else{if(h<165){d=20+(70-20)/(1+(Math.pow(10,(158-h)*0.04)));p=23+(67-23)/(1+(Math.pow(10,(156-h)*0.05)));u=24+(75-24)/(1+(Math.pow(10,(156-h)*0.05)));B=22.9+(89-22.9)/(1+(Math.pow(10,(156-h)*0.045)));n=27.5+(90-27.5)/(1+(Math.pow(10,(153-h)*0.055)));g=30+(94-30)/(1+(Math.pow(10,(150-h)*0.055)));e=34.5+(104-34.5)/(1+(Math.pow(10,(151-h)*0.056)))}else{d=0.73*h-67.96;p=0.7928*h-75.507;u=0.8941*h-86.397;B=0.9165*h-81.496;n=1.1124*h-105.3;g=1.2251*h-114.72;e=1.2363*h-108.84}}r=B;if(v>18){r=(0.85*h)-(0.0086*v*v-0.9796*v+92.781)}else{if(v>7){r=(17+(80-17)/(1+Math.pow(10,(154-h)*0.03)))+Math.max((1.018*v-15),0)*Math.min((0.0278*h-3.4722),1)}}if(h<112){r=B}}else{if(h<125){d=0.002*A-0.141*h+8.0736;p=0.0022*A-0.177*h+10;u=0.0016*A-0.0398*h+2.9072;B=0.0018*A-0.0554*h+3.3595;n=0.0033*A-0.3099*h+14.6;g=0.0045*A-0.46*h+19.2;e=0.0061*A-0.7332*h+31.202}else{if(h<161){d=21+(53-21)/(1+(Math.pow(10,(148-h)*0.06)));p=21.7+(53-21.7)/(1+(Math.pow(10,(146-h)*0.07)));u=22+(60-22)/(1+(Math.pow(10,(145-h)*0.068)));B=22+(70-22)/(1+(Math.pow(10,(143-h)*0.065)));n=25+(82-25)/(1+(Math.pow(10,(143-h)*0.068)));g=26+(99-26)/(1+(Math.pow(10,(142-h)*0.06)));e=28+(107-28)/(1+(Math.pow(10,(142-h)*0.06)))}else{d=0.6153*h-50.992;p=0.6759*h-58.085;u=0.6375*h-45.456;B=0.6261*h-33.83;n=0.6896*h-30.833;g=0.8127*h-36.131;e=h-58}}r=B;if(v>18){r=(0.6261*h)-(0.0094*v*v-1.1097*v+59.183)}else{if(v>7){r=(13+(75-13)/(1+Math.pow(10,(150-h)*0.026)))+Math.max((1.018*v-13.234),0)*Math.min((0.0278*h-3.4722),1)}}if(h<126){r=B}}q=B-r;d=d-q;p=p-q;u=u-q;B=B-q;n=n-q;g=g-q;e=e-q;if(kg<p){s=(10-5)/(p-d);w=5-(s*d)}else{if(kg<u){s=(25-10)/(u-p);w=10-(s*p)}else{if(kg<B){s=(50-25)/(B-u);w=25-(s*u)}else{if(kg<n){s=(75-50)/(n-B);w=50-(s*B)}else{if(kg<g){s=(90-75)/(g-n);w=75-(s*n)}else{s=(95-90)/(e-g);w=90-(s*g)}}}}}j=s*kg+w;a.kgcmP.value=SetPercentile(rounding(j,0));return null}function GetAge(c,a){var b=35;if(c.AgeCat.selectedIndex==0){b=75}else{if(c.AgeCat.selectedIndex<6){b=65-(c.AgeCat.selectedIndex-1)*10}else{if(c.AgeCat.selectedIndex==6){b=19}else{if(c.AgeCat.selectedIndex<23){b=17-(c.AgeCat.selectedIndex-7)}else{if(c.AgeCat.selectedIndex==23){b=1.5}else{if(c.AgeCat.selectedIndex==24){b=1}else{if(c.AgeCat.selectedIndex==25){b=35}else{b=17.5}}}}}}}if(c.Gender.selectedIndex==0){if(a<155&&b>17){b=rounding(0.0003*a*a+0.0847*a-7.5544,1)}}else{if(a<145&&b>17){b=rounding(0.0007*a*a-0.0136*a-1.6819,1)}}c.Years.value=b;return b}function SetAge(a){if(a.Years.value>0){if(a.AgeCat.selectedIndex==0){a.Years.value=75}else{if(a.AgeCat.selectedIndex<6){a.Years.value=65-(a.AgeCat.selectedIndex-1)*10}else{if(a.AgeCat.selectedIndex==6){a.Years.value=19}else{if(a.AgeCat.selectedIndex<23){a.Years.value=17-(a.AgeCat.selectedIndex-7)}else{if(a.AgeCat.selectedIndex==23){a.Years.value=1.5}else{if(a.AgeCat.selectedIndex==24){a.Years.value=1}else{if(a.AgeCat.selectedIndex==25){a.Years.value=30}else{if(a.Years.value>19){a.Years.value=""}}}}}}}}}return true}function SetAgeCat(b,a){if(a>69.99){b.AgeCat.selectedIndex=0}else{if(a<=1){b.AgeCat.selectedIndex=24}else{if(a<2){b.AgeCat.selectedIndex=23}else{if(a<18){b.AgeCat.selectedIndex=-Math.floor(a)+24}else{if(a<20){b.AgeCat.selectedIndex=6}else{b.AgeCat.selectedIndex=Math.ceil(-1*(a-78.999))/10}}}}}return true}function setFeetAndInches(c,b){var a=Math.min(Math.max(Math.floor(b/12),1),7);c.htf.selectedIndex=a-1;b=rounding(b-a*12,0);c.hti.selectedIndex=Math.min(Math.max(b,0),11);return true}function feetAndInches(b){var a=0;a=((b.htf.selectedIndex+1)*12)+b.hti.selectedIndex;if(b.hu.selectedIndex==0){b.ht.value=a}if(b.hu.selectedIndex==1){b.ht.value=rounding(a*2.54,0)}return true}function SetPercentile(a){if(a>98){a="> 98th percentile"}else{if(a<2){a="< 2nd percentile"}else{if(a==11){a="11th percentile"}else{if(a==12){a="12th percentile"}else{if(a==13){a="13th percentile"}else{if(rightDigit(a)==1){a=a+"st percentile"}else{if(rightDigit(a)==2){a=a+"nd percentile"}else{if(rightDigit(a)==3){a=a+"rd percentile"}else{a=a+"th percentile"}}}}}}}}return a}function poundsAndKilos(a){var b=Number(a.wt.value);if(b>0){if(a.wu.selectedIndex==0){a.wt.value=rounding(b/0.45359237,0)}else{if(b>219){a.wt.value=rounding(b*0.45359237,0)}else{a.wt.value=rounding(b*0.45359237,1)}}a.wt.select();a.wt.focus()}return true}function inchesCm(b){var a=Number(b.ht.value);if(a>0){if(b.hu.selectedIndex==0){setFeetAndInches(b,a/2.54);b.ht.value=rounding(a/2.54,1)}else{setFeetAndInches(b,a);b.ht.value=rounding(a*2.54,0)}b.ht.select();b.ht.focus()}return true}function rightDigit(a){a=a-(Math.floor(a/10)*10);return a}function rounding(b,a){multi=Math.pow(10,a);b=Math.round(b*multi)/multi;return b}function checkWeight(a){if((isNaN(a))||(a==null)||(a=="")||(a<0)){alert("يرجى إدخال قيمة الوزن");return false}return true}function OpenLink(a){window.open(a);return true}function microsoftKeyPress(){if(window.event.keyCode==13){CalcIt(document.forms[0])}return true};